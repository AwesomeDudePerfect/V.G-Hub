local GetGlobal = getgenv and getgenv() or shared or _G

for i,v in next, game.GetChildren(game) do
    GetGlobal[v.ClassName] = v
end

GetGlobal.wait = task.wait
GetGlobal.spawn = task.spawn
GetGlobal.Player = Players.LocalPlayer
GetGlobal.Kick = Player.Kick
GetGlobal.Error = ScriptContext.Error
GetGlobal.Idled = Player.Idled
GetGlobal.MessageOut = LogService.MessageOut
GetGlobal.Settings = {}
GetGlobal.Verison = "v1"
GetGlobal.VG = {}
GetGlobal.IsVG = false
GetGlobal.Owner = "DekuDimz"
GetGlobal.Helper = "Bluwu"
GetGlobal.User = Instance.new("VirtualInputManager")
GetGlobal.AFK = false
GetGlobal.Character = Player.Character or Player.CharacterAdded:Wait()

VG.Mag = function(Pos1, Pos2)
    return (Pos1.Position - Pos2.Position).Magnitude
end
-- VG.Mag(Player.Character:GetModelCFrame(), Workspace.Part1) < 50 -- true
VG.Teleport = function(Pos, Offset)
    Player.Character:PivotTo(CFrame.new(Pos + Offset))
end
-- VG.Teleport(Vector3.new(0,0,0), nil)
VG.GetNearestPlayerToBasePart = function(BasePart)
    for i,v in next, Players:GetPlayers() do
        local Radius = gethiddenproperty(v, "SimulationRadius")
        if (v.Character:GetModelCFrame().Position - BasePart.Position).Magnitude > Radius and v ~= Player then
            return true
        else
            return false
        end
    end
    return false
end
-- VG.GetNearestPlayerToBasePart(Workspace.Part1) -- true
VG.isnetworkowner = isnetworkowner or function(BasePart)
    if BasePart:IsA("BasePart") then
        local Radius = gethiddenproperty(Player, "SimulationRadius")
        if (BasePart:IsDescendantOf(Player.Character) or VG.Mag(Player.Character:GetModelCFrame(), BasePart) <= Radius) and not VG.GetNearestPlayerToBasePart(BasePart) then
            return true
        else
            return false
        end
    end
    return false
end
--VG.isnetworkowner(Player.Character.HumanoidRootPart) -- true
VG.FireConnection = function(Signal)
    if not getconnections then
        error("No getconnections detected sorry")
    else
        for i,v in next, getconnections(Signal) do
            v:Fire()
        end
    end
end
--VG.FireConnection(Player.PlayerGui.Button.MouseButton1Click)
VG.DisableConnection = function(Signal)
    if not getconnections then
        error("No getconnections Detected wth")
    else
        for i,v in next, getconnections(Signal) do
            v:Disable()
        end
    end
end

-- VG.DisableConnection(ScriptContext.Error)

VG.Tween = function(Object1, Object2, Speed, Offset, Wait)
    if Object1 and Object2 then
        local Timing = VG.Mag(Object1, Object2) / Speed
        local TweenInfo = TweenInfo.new(Timing, Enum.EasingStyle.Linear)
        local TweenSystem = TweenService:Create(Pos1, TweenInfo, {CFrame = CFrame.new(Object2.Position + Offset)})
        TweenSystem:Play()
        if Wait then
            TweenSystem.Completed:Wait()
        end
    end
end
--VG.Tween(Player.Character:GetModelCFrame(), CFrame.new(0,0,0), 12, Vector3.new(0,0,0), true)

VG.ServerHop = function()
    spawn(function()
        while wait() do
            pcall(function()
                local Gay = HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. game.PlaceId .. '/servers/Public?sortOrder=Asc&limit=100'))
                for i,v in next, Gay.data do
                    if v.playing < v.maxPlayers then
                        TeleportService:TeleportToPlaceInstance(game.PlaceId, v.id, Player)
                        break
                    end
                end
            end)
            wait(4)
        end
    end)
end
-- VG.ServerHop()
VG.Rejoin = function()
    return TeleportService:Teleport(game.PlaceId, Player)
end

--VG.Rejoin()

VG.NoClip = function()
    for i,v in next, Player.Character:GetChildren() do
        if v:IsA("BasePart") then
            v.CanCollide = false
            v.Velocity = Vector3.new(0,0,0)
        end
    end
end

--VG.NoClip()
